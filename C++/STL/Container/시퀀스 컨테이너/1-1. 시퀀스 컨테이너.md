# 시퀀스 컨테이너(Sequence Container)

vector, list, deque 3가지가 정의되어 있음  
  
## 1. vector  
- 일단 공간을 할당해 놓음  
- push_back으로 값이 들어오면 이미 할당된 공간에 값을 넣음  
- 값이 계속 들어오다보면 공간이 다 차고, 그때 값이 더 들어오면 공간이 부족해짐  
- 공간이 부족하면 아예 새로운 더 큰 공간을 할당하고 그 공간으로 기존의 값들을 복사한 후 새로운 값 추가  
- 즉 값을 계속 넣다보면 공간을 새로 할당하고, 값들을 복사하는 작업의 비효율이 발생  
- 맨 뒤에 값을 추가하거나 제거하는것은 빠르지만, 임의의 위치에 원소를 추가하는것은 느림  
- 값을 넣기 위해 다른 값들을 한칸씩 옮겨줘야 하므로

2) list  
- 양방향 연결 구조를 가진 자료형  
- 1~6까지 있다면 1과 2가 서로 가리킴, 2와 3이 서로 가리킴, ... 5와 6이 서로 가리킴

- 리스트는 첫번째 원소의 위치와 마지막 원소의 위치만 기억함

- 그러므로 특정 원소에 접근하려면 첫번째나 마지막 원소부터 순서대로 찾아가야함

- vector는 인덱스로 특정 위치에 바로 접근이 가능했지만 리스트는 불가능  
- 그러니 list에는 []나 at함수가 없음  
  => lst.begin()과 lst.end()는 가능하지만 itr += 5; 이런게 불가능하고 오직 itr++, itr--, ++itr, --itr만 가능  
- 하지만 vector에 비해 장점은 중간에 값을 삽입할 때 효율적임  
- 삽입할 위치의 바로 앞뒤 값 두개만 변경하면 되므로  
- 위와 같은 이유는 리스트는 왼쪽 오른쪽이 서로 가리키기만 하면 되므로 메모리상에서 연속적으로 존재하지 않을 수 있음  
벡터는 연속으로 존재하니까 인덱스로 참조 가능한거고  
- 리스트는 insert나 erase를 해도 iterator 값이 무효화되지 않음. 각 원소들의 주소값은 그대로이고 가리키는곳만 달라지므로  
- 즉 일반적인 경우 벡터를 쓰면 좋지만 중간위치에 값을 넣고 빼는 빈도가 많으면 list를 쓰면 좋다  
  
3) deque  
- vector의 장점을 모두 가졌으나 메모리 공간이 더 많이 필요  
- vector의 장점에 중간위치에 insert나 erase 하는 속도도 vector보다 빠름  
- 덱은 임의의 위치에 직접 접근이 가능하며, 맨뒤에 원소를 추가 제거하는것도 빠르고, 심지어 맨 앞에 추가제거도 빠름  
- 메모리공간을 많이 차지하는 이유는 원소들이 메모리상에 연속적으로 존재하지 않고  
여러곳에 나뉘어 저장되어있음, 그러므로 저장된 위치를 저장할 테이블이 필요해서 메모리를 더 쓰게 되는 것  
- 즉 실행속도를 위해 메모리를 희생하는 컨테이너  
- 덱은 새로 할당할때 앞과 뒤에 모두 공간을 남겨놓고 할당함, 벡터는 뒤만 남기고 앞은 남기지 않았음  
- 벡터는 공간이 가득 찼을때 값을 추가하면 더 큰 공간을 새로 할당해서 기존 값들을 모두 복사한 후 값을 추가하는 방식  
반면에 덱은 그냥 가득 차면 새로운 공간에 새로운 값만 넣고 테이블에 그 주소만 저장하면 됨  
이런 이유로 새로운 값을 추가할때 속도가 빠름  
- 덱의 제일 뒤에 값을넣을땐 push_back, 앞에 값을 넣을땐 push_front, pop_back이나 pop_front도 사용 가능  
  
4) 시퀀스 컨테이너 결론  
기본적으로는 벡터를 쓰면 되고  
중간에 값을 넣고 빼는 경우가 많으면 list를 쓰고  
앞뒤 양쪽에 값을 자주 넣고 빼는 경우엔 deque를 쓴다