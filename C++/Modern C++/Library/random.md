# random 라이브러리


## 1. random 라이브러리

C++ 11때 modern C++로 넘어오면서 추가된 난수 라이브러리  
기존의 C언어에서 난수를 생성하기 위해 사용되던 time.h나 stdlib.h의 문제점을 개선할 수 있음  


## 2. C언어 방식의 문제점

```C++
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    srand(time(NULL));
    for (int i = 0; i < 10; i++) {
        printf("%d \n", rand() % 100);
    }
    
    return 0;
}
```
#### 1) 진짜 랜덤이 아님
컴퓨터로 완벽한 랜덤 난수를 생성하는 것은 어려움  

위 코드의 방식은 진짜 난수를 생성하는 것이 아니라, 난수처럼 보이는 숫자를 생성하는 코드이며  
첫 번째 수만 랜덤으로 정한 후 나머지 숫자들은 첫 숫자를 기반으로 만들어진 수열  

무작위로 정해진 첫번째 수를 시드(seed)라고 부르며 C언어는 srand로 seed를 설정함  
위 코드에서는 `time(NULL)`을 srand의 값으로 주면서 프로그램을 실행한 시간을 기반으로 시드값을 설정함  
그 후 rand()를 호출할 때마다 seed를 기반으로 무작위처럼 보이는 수열을 생성하는 방식  

#### 2) 시드값이 느리게 변함
`time(NULL)`을 이용하면 프로그램 실행시점의 초를 기준으로 첫 난수를 설정함  
즉 동시에 여러 프로그램이 `srand(time(NULL))`을 사용하면 모두 같은 seed를 가지게 될 수 있음  

#### 3) 난수가 균등하게 생성되지 않음
위 코드로 0 ~ 99의 숫자를 생성하고 싶다면 `rand() % 100`을 해줌으로써 난수를 100으로 나눈 나머지를 얻는 방식을 사용하게 됨  

이때 `rand()`가 만드는 난수는 0부터 RAND_MAX까지인데 만약 RAND_MAX가 100의 배수가 아니라면?  
만약 RAND_MAX가 150이라면 `rand() % 100`을 했을 때 1이 나오는 조건은 `rand()`가 1이거나 101인 경우 두가지가 됨  
반면 51이 나오기 위한 `rand()`결과는 51 하나뿐이므로 모든 숫자가 나올 확률이 균등하지 않음  

#### 4) rand() 자체의 성능이 별로 좋지 않음
`rand()`에서 사용하는 알고리즘이 아주 훌륭하지는 않다고 함