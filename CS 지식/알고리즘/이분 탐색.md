# 이분 탐색

## 1. 개념

이분탐색(Binary Search)  
이분탐색 혹은 이진탐색이라고 불리며 ==정렬된== 배열에서 원하는 값의 존재여부(혹은 위치)를 찾는 알고리즘  
반드시 정렬된 상태에서만 사용 가능하며 탐색을 수행할때마다 검사 범위가 절반으로 줄어들기 때문에 시간복잡도는 O(logN)이다  

![[Pasted image 20240114231806.png]]


## 2. 사용 방법

배열의 시작점을 low, 중간점을 mid, 배열의 끝점을 high 정하고 시작  
1) 검사 범위에서 mid값이 찾고자 하는 값(target)과 같은지 확인
2) `if(arr[mid] == target)`이라면 mid를 반환
3) `if(arr[mid] < target)`이라면 검사 범위를 더 큰쪽으로 옮겨야 하므로 low = mid + 1;
4) `if(arr[mid] > target)`이라면 검사 범위를 더 작은쪽으로 옮겨야 하므로 high = mid - 1;
5) 1~4의 과정을 반복하다가 `arr[mid] == target`이라면 mid를 반환
6) 만약 low > high라면 배열에 target이 없는것이므로 `return -1;`


## 3. 사용 예시

#### 1) 반복문으로 구현
```C++
#include <iostream>
#include <vector>

int binarySearch(std::vector<int>& arr, int low, int high, int target) {
	while (low <= high) {
		int mid = (low + high) / 2;

		if (target == arr[mid]) return mid; // 값을 찾았다면 해당 값의 index 반환
		else if (target < arr[mid]) high = mid - 1; // 찾는 값이 더 작으면 검사 범위를 작은 쪽으로
		else if (target > arr[mid]) low = mid + 1; // 찾는 값이 더 크면 검사 범위를 큰 쪽으로
	}
	return -1; // 마지막까지 못찾는다면 -1 반환
}

int main()
{
	std::vector<int> array{ 1, 3, 5, 7, 9, 11, 13 };

	std::cout << "7의 인덱스 : " << binarySearch(array, 0, array.size() - 1, 7) << '\n';
}
```

#### 2) 재귀로 구현
```C++
#include <iostream>
#include <vector>

int binarySearch(std::vector<int>& arr, int low, int high, int target) {
	if (low > high) return -1;

	int mid = (low + high) / 2;

	if (target == arr[mid]) return mid;
	else if (target > arr[mid]) return binarySearch(arr, mid + 1, high, target);
	else if (target < arr[mid]) return binarySearch(arr, low, mid - 1, target);
}

int main()
{
	std::vector<int> array{ 1, 3, 5, 7, 9, 11, 13 };

	std::cout << "7의 인덱스 : " << binarySearch(array, 0, array.size() - 1, 7) << '\n';
}
```

#### 3) C++ STL로 구현
```C++
// index 출력은 안되고 존재 유무만 true/false로 return
// algorithm 헤더 include

#include <iostream>
#include <vector>
#include <algorithm>

int main()
{
	std::vector<int> array{ 1, 3, 5, 7, 9, 11, 13 };

	bool isFound = binary_search(array.begin(), array.end(), 7);
	std::cout << std::boolalpha << isFound << '\n';

	return 0;
}
```


## 4. 이분탐색을 이용한 C++ STL 함수

위의 binary_search외에도 이분탐색을 이용한 STL함수들이 있다  
- lower_bound : 찾고자 하는 값 ==이상==이 처음 나타나는 iterator 반환
- upper_bound : 찾고자 하는 값 ==초과==이 처음 나타나는 iterator 반환

예를들어 { 1, 2, 4, 4, 6, 7 }에 lower_bound로 4를 찾으면