# 세그먼트 트리(Segment Tree)

## 1. 세그먼트 트리란?

구간을 저장하기 위한 트리  
구간합, 구간 내 최소값, 구간 내 최대값 등등 구간내의 값을 빠르게 파악하기 좋은 자료구조  

![[segment tree.png]]

구간합을 예시로 설명하자면 위 사진처럼 7칸짜리 배열이 있다고 할 때  
0 ~ 7번 자리에 들어있는 값들을 트리의 말단 노드인 리프에 놓고  
0 ~ 1번 인덱스 값의 합을 부모노드에, 2 ~ 3번 인덱스 값의 합을 부모노드에, ...  
최종적으로 root에는 모든 배열값들의 합이 위치하는 형태  



## 2. 세그먼트 트리가 없다면?

예를들어 `arr[] = { 1, 2, 3, 4, 5 };`의 배열이 있을 때  
index 0 ~ 2의 구간의 합을 구해라, 1 ~ 3의 구간의 합을 구해라, 2 ~ 4의 구간의 합을 구해라 같은 구간합을 여러번 구하는 문제가 있다면 누적합 알고리즘을 사용하면 된다.  

그런데 만약 구간의 합을 구하는 사이사이에 배열의 값을 바꾸는 요청이 있다면?  
예를들어  
1) 